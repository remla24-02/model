schema: '2.0'
stages:
  get_data:
    cmd: python src/data/get_data.py
    outs:
    - path: data/raw/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/raw/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/raw/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
  preprocess:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/raw/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/raw/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    outs:
    - path: data/preprocessed/char_index.joblib
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
    - path: data/preprocessed/preprocessed_x_test.joblib
      hash: md5
      md5: 9efc054fb130a7a7262ede3e002dbff8
      size: 291359441
    - path: data/preprocessed/preprocessed_x_train.joblib
      hash: md5
      md5: 957df5493b81973caa16dc32d1e372ff
      size: 836620241
    - path: data/preprocessed/preprocessed_x_val.joblib
      hash: md5
      md5: 56b9176994f90b75f32286ca276f8b87
      size: 412064241
    - path: data/preprocessed/preprocessed_y_test.joblib
      hash: md5
      md5: cb123d0b96613ac4fa75532d76b3478a
      size: 2913833
    - path: data/preprocessed/preprocessed_y_train.joblib
      hash: md5
      md5: 32e2283a7fbe43fa763e7587ba0847f4
      size: 8366441
    - path: data/preprocessed/preprocessed_y_val.joblib
      hash: md5
      md5: 33b40b9c99b9dbc5dbf016f7adfaed70
      size: 4120881
  define_model:
    cmd: python src/models/define_model.py
    deps:
    - path: data/preprocessed/char_index.joblib
      hash: md5
      md5: 941dc7e5461b0a429941866a00102b8c
      size: 444
    outs:
    - path: models/defined_model.joblib
      hash: md5
      md5: de83be22957afecf25f0411fbf0216b7
      size: 50494
  train_model:
    cmd: PYTHONPATH=. python src/models/train_model.py
    deps:
    - path: data/preprocessed/preprocessed_x_train.joblib
      hash: md5
      md5: 957df5493b81973caa16dc32d1e372ff
      size: 836620241
    - path: data/preprocessed/preprocessed_x_val.joblib
      hash: md5
      md5: 56b9176994f90b75f32286ca276f8b87
      size: 412064241
    - path: data/preprocessed/preprocessed_y_train.joblib
      hash: md5
      md5: 32e2283a7fbe43fa763e7587ba0847f4
      size: 8366441
    - path: data/preprocessed/preprocessed_y_val.joblib
      hash: md5
      md5: 33b40b9c99b9dbc5dbf016f7adfaed70
      size: 4120881
    - path: models/defined_model.joblib
      hash: md5
      md5: de83be22957afecf25f0411fbf0216b7
      size: 50494
    outs:
    - path: models/trained_model.joblib
      hash: md5
      md5: fb8ac980da492f1055e1a09079005457
      size: 5472585
  evaluate_model:
    cmd: python src/models/evaluate_model.py
    deps:
    - path: data/preprocessed/preprocessed_x_test.joblib
      hash: md5
      md5: 9efc054fb130a7a7262ede3e002dbff8
      size: 291359441
    - path: data/preprocessed/preprocessed_y_test.joblib
      hash: md5
      md5: cb123d0b96613ac4fa75532d76b3478a
      size: 2913833
    - path: models/trained_model.joblib
      hash: md5
      md5: fb8ac980da492f1055e1a09079005457
      size: 5472585
    outs:
    - path: evaluation/metrics.json
      hash: md5
      md5: febef861205c9fffafe1de2764937e29
      size: 152
    - path: evaluation/plots/cm.json
      hash: md5
      md5: d4498a3e411483982c89ba5fd71fd719
      size: 2185276
    - path: evaluation/plots/prc.json
      hash: md5
      md5: c8171bec79c6be717e1962b6e3fadaec
      size: 103
    - path: evaluation/plots/roc.json
      hash: md5
      md5: 5d628f3750ae02b3309abd05d8bd270f
      size: 79
