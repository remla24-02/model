schema: "2.0"
stages:
  get_data:
    cmd: python src/data/get_data.py
  preprocess:
    cmd: python src/data/data_preprocessing.py
    deps:
      - path: data/raw/test.txt
        hash: md5
        md5: a1cab28ad8554fd9269d31e5708469d0
        size: 32724891
      - path: data/raw/train.txt
        hash: md5
        md5: 13fd241a41370119612d5b00b0433009
        size: 93921671
      - path: data/raw/val.txt
        hash: md5
        md5: 7b1e28b1e91582c6f36e85517c3cc6ee
        size: 46258330
  define_model:
    cmd: python src/models/define_model.py
    deps:
      - path: data/preprocessed/char_index.joblib
        hash: md5
        md5: 941dc7e5461b0a429941866a00102b8c
        size: 444
  train_model:
    cmd: python src/models/train_model.py
    deps:
      - path: models/defined_model.joblib
        hash: md5
        md5: ac61d7336e2831b5cd92c5523f0aaa51
        size: 49877
      - path: output/preprocessed_x_train.joblib
        hash: md5
        md5: bf8f14fe123c36f899b44ad257c01b68
        size: 836619441
      - path: output/preprocessed_x_val.joblib
        hash: md5
        md5: 56b9176994f90b75f32286ca276f8b87
        size: 412064241
      - path: output/preprocessed_y_train.joblib
        hash: md5
        md5: 1c71e546510693ba605e8ef098fc73e2
        size: 8366433
      - path: output/preprocessed_y_val.joblib
        hash: md5
        md5: 33b40b9c99b9dbc5dbf016f7adfaed70
        size: 4120881
    outs:
      - path: models/trained_model.joblib
        hash: md5
        md5: 8df32b50c3e19897d9b981ae186dfd78
        size: 5472586
  evaluate_model:
    cmd: python src/models/evaluate_model.py
    deps:
      - path: models/trained_model.joblib
        hash: md5
        md5: 8df32b50c3e19897d9b981ae186dfd78
        size: 5472586
      - path: output/preprocessed_x_test.joblib
        hash: md5
        md5: 9efc054fb130a7a7262ede3e002dbff8
        size: 291359441
      - path: output/preprocessed_y_test.joblib
        hash: md5
        md5: cb123d0b96613ac4fa75532d76b3478a
        size: 2913833
    outs:
      - path: evaluation
        hash: md5
        md5: 3398fcf6f830b12f4a8d29ea23e0b5a9.dir
        size: 22216964
        nfiles: 4
